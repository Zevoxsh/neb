<!doctype html>
<html lang="fr">

<head>
  <meta charset="utf-8">
  <meta name="viewPort" content="width=device-width,initial-scale=1">
  <title>Nebula Console - Domain</title>
  <link rel="stylesheet" href="/public/styles.css">
  <link rel="stylesheet" href="/public/nebula-pro.css">
  <link rel="stylesheet" href="/public/detail-pages-pro.css">
  <script src="/public/js/theme.js?v=13"></script>
  <script src="/public/js/api.js?v=13" defer></script>
  <script src="/public/js/include-partials.js?v=13" defer></script>
  <script src="/public/js/app.js?v=13" defer></script>
</head>

<body data-page="domain-detail">
  <div class="app-shell">
    <div id="sidebar-placeholder"></div>
    <div class="app-main">
      <header class="detail-header">
        <div class="detail-header-content">
          <div class="detail-header-left">
            <a class="back-link" href="/domains.html">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
                <path d="M12.5 15L7.5 10L12.5 5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Retour aux domaines
            </a>
            <div class="detail-header-title">
              <h1 id="domainHeaderTitle">Configuration du domaine</h1>
              <p class="detail-subtitle">Gérez les paramètres et la configuration de votre domaine</p>
            </div>
          </div>
          <div class="detail-header-actions">
            <button class="btn-action danger" type="button" id="btnDeleteDomain">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M19 7L18.1327 19.1425C18.0579 20.1891 17.187 21 16.1378 21H7.86224C6.81296 21 5.94208 20.1891 5.86732 19.1425L5 7M10 11V17M14 11V17M15 7V4C15 3.44772 14.5523 3 14 3H10C9.44772 3 9 3.44772 9 4V7M4 7H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Supprimer
            </button>
            <button class="btn-action primary" type="button" id="btnSaveDomain">
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                <path d="M9 11L12 14L22 4M21 12V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V5C3 4.46957 3.21071 3.96086 3.58579 3.58579C3.96086 3.21071 4.46957 3 5 3H16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
              Enregistrer
            </button>
          </div>
        </div>
      </header>
      <section class="page-content detail-content">
        <div class="detail-grid">
          <!-- Main Configuration -->
          <div class="detail-main">
            <article class="pro-card">
              <div class="card-header">
                <div class="card-icon">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M21 16V8C20.9996 7.64927 20.9071 7.30481 20.7315 7.00116C20.556 6.69751 20.3037 6.44536 20 6.27L13 2.27C12.696 2.09446 12.3511 2.00205 12 2.00205C11.6489 2.00205 11.304 2.09446 11 2.27L4 6.27C3.69626 6.44536 3.44398 6.69751 3.26846 7.00116C3.09294 7.30481 3.00036 7.64927 3 8V16C3.00036 16.3507 3.09294 16.6952 3.26846 16.9988C3.44398 17.3025 3.69626 17.5546 4 17.73L11 21.73C11.304 21.9055 11.6489 21.9979 12 21.9979C12.3511 21.9979 12.696 21.9055 13 21.73L20 17.73C20.3037 17.5546 20.556 17.3025 20.7315 16.9988C20.9071 16.6952 20.9996 16.3507 21 16Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M3.27002 6.96L12 12.01L20.73 6.96" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M12 22.08V12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
                <div>
                  <h2 class="card-title">Configuration générale</h2>
                  <p class="card-description">Paramètres de base du domaine et du routage</p>
                </div>
              </div>
              <form id="editDomainForm">
                <input type="hidden" id="editDomainId" name="id">
                <div class="form-section">
                  <div class="form-row">
                    <div class="input-group">
                      <label for="editDomainHostname" class="input-label">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                          <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                          <path d="M2 12H22M12 2C14.5013 4.73835 15.9228 8.29203 16 12C15.9228 15.708 14.5013 19.2616 12 22C9.49872 19.2616 8.07725 15.708 8 12C8.07725 8.29203 9.49872 4.73835 12 2Z" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        Nom de domaine
                      </label>
                      <input id="editDomainHostname" name="hostname" placeholder="app.example.com" required class="pro-input">
                    </div>
                  </div>
                  <div class="form-row two-cols">
                    <div class="input-group">
                      <label for="editDomainProxySelect" class="input-label">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                          <rect x="3" y="3" width="7" height="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          <rect x="14" y="3" width="7" height="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          <rect x="14" y="14" width="7" height="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          <rect x="3" y="14" width="7" height="7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Proxy
                      </label>
                      <select id="editDomainProxySelect" name="proxyId" required class="pro-select"></select>
                    </div>
                    <div class="input-group">
                      <label for="editDomainBackendSelect" class="input-label">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                          <rect x="2" y="3" width="20" height="14" rx="2" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 21H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          <path d="M12 17V21" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                        </svg>
                        Backend
                      </label>
                      <select id="editDomainBackendSelect" name="backendId" required class="pro-select">
                        <option value="">Sélectionner un backend</option>
                      </select>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="input-group">
                      <label for="editDomainBotProtection" class="input-label">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                          <rect x="5" y="11" width="14" height="10" rx="2" stroke="currentColor" stroke-width="2"/>
                          <path d="M12 17C12.5523 17 13 16.5523 13 16C13 15.4477 12.5523 15 12 15C11.4477 15 11 15.4477 11 16C11 16.5523 11.4477 17 12 17Z" stroke="currentColor" stroke-width="2"/>
                          <path d="M8 11V7C8 5.93913 8.42143 4.92172 9.17157 4.17157C9.92172 3.42143 10.9391 3 12 3C13.0609 3 14.0783 3.42143 14.8284 4.17157C15.5786 4.92172 16 5.93913 16 7V11" stroke="currentColor" stroke-width="2"/>
                        </svg>
                        Protection CAPTCHA
                      </label>
                      <select id="editDomainBotProtection" name="botProtection" class="pro-select">
                        <option value="unprotected">Non protégé (accès libre)</option>
                        <option value="protected">Protégé (CAPTCHA requis)</option>
                      </select>
                      <span class="input-hint">Active la vérification humaine pour ce domaine</span>
                    </div>
                  </div>
                </div>
              </form>
            </article>

            <article class="pro-card">
              <div class="card-header">
                <div class="card-icon warning">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M12 8V12M12 16H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
                <div>
                  <h2 class="card-title">Mode maintenance</h2>
                  <p class="card-description">Affichez une page de maintenance personnalisée</p>
                </div>
              </div>
              <section id="domainMaintenanceSection">
                <div class="form-section">
                  <div class="form-row">
                    <div class="toggle-control">
                      <div class="toggle-info">
                        <label for="editDomainMaintenanceEnabled" class="toggle-label">Activer le mode maintenance</label>
                        <span class="toggle-hint">Les visiteurs verront la page de maintenance configurée</span>
                      </div>
                      <div class="toggle-switch-wrapper">
                        <label class="pro-switch">
                          <input type="checkbox" id="editDomainMaintenanceEnabled">
                          <span class="pro-slider"></span>
                        </label>
                        <span id="editDomainMaintenanceStatusText" class="toggle-status">Désactivé</span>
                      </div>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="input-group">
                      <label for="editDomainMaintenancePagePath" class="input-label">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                          <path d="M13 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V9L13 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          <path d="M13 2V9H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Chemin de la page de maintenance
                      </label>
                      <input id="editDomainMaintenancePagePath" name="maintenancePagePath" placeholder="exemple: maintenance.html" class="pro-input">
                      <span class="input-hint">Optionnel : nom du fichier personnalisé. Laisser vide pour utiliser la page par défaut.</span>
                    </div>
                  </div>
                  <div class="form-row">
                    <div class="input-group">
                      <label for="editDomainMaintenancePageContent" class="input-label">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                          <polyline points="16 18 22 12 16 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          <polyline points="8 6 2 12 8 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        HTML de la page de maintenance
                      </label>
                      <textarea id="editDomainMaintenancePageContent" rows="8" placeholder="Collez votre HTML personnalisé ici..." class="pro-textarea code"></textarea>
                      <div class="action-buttons">
                        <button class="btn-secondary" type="button" id="btnLoadMaintenancePage">
                          <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                            <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <polyline points="7 10 12 15 17 10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                          Charger
                        </button>
                        <button class="btn-secondary" type="button" id="btnClearMaintenancePage">
                          <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                            <path d="M18 6L6 18M6 6L18 18" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                          Effacer
                        </button>
                        <button class="btn-primary-small" type="button" id="btnUploadMaintenancePage">
                          <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                            <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <polyline points="17 8 12 3 7 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <line x1="12" y1="3" x2="12" y2="15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                          Uploader
                        </button>
                        <button class="btn-danger-small" type="button" id="btnDeleteMaintenancePage">
                          <svg width="14" height="14" viewBox="0 0 24 24" fill="none">
                            <path d="M3 6H5H21M19 6V20C19 20.5304 19 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                          Supprimer
                        </button>
                      </div>
                      <span class="input-hint">Uploadez votre HTML pour créer une page de maintenance personnalisée.</span>
                    </div>
                  </div>
                </div>
              </section>
            </article>

            <article class="pro-card">
              <div class="card-header">
                <div class="card-icon security">
                  <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                </div>
                <div>
                  <h2 class="card-title">Certificat SSL/TLS</h2>
                  <p class="card-description">Gérez le certificat de sécurité de votre domaine</p>
                </div>
              </div>
              <section id="domainCertSection">
                <div id="domainCertInfo" class="cert-panel" hidden>
                  <div class="cert-status-row">
                    <div class="cert-status-item">
                      <span class="cert-label">Statut</span>
                      <div id="domainCertStatus"></div>
                    </div>
                    <div class="cert-status-item">
                      <span class="cert-label">Expiration</span>
                      <div id="domainCertExpiry" class="cert-expiry"></div>
                    </div>
                  </div>
                  <div class="form-section">
                    <div class="form-row">
                      <div class="input-group">
                        <label class="input-label">
                          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <polyline points="14 2 14 8 20 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          </svg>
                          Certificat (fullchain.pem)
                        </label>
                        <textarea id="domainCertFullchain" class="pro-textarea code" rows="6" placeholder="-----BEGIN CERTIFICATE-----&#10;Collez le certificat complet ici...&#10;-----END CERTIFICATE-----"></textarea>
                      </div>
                    </div>
                    <div class="form-row">
                      <div class="input-group">
                        <label class="input-label">
                          <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                            <path d="M15 11C15 9.89543 14.1046 9 13 9H11C9.89543 9 9 9.89543 9 11V13C9 14.1046 9.89543 15 11 15H13C14.1046 15 15 14.1046 15 13V11Z" stroke="currentColor" stroke-width="2"/>
                            <path d="M12 15V16C12 17.1046 11.1046 18 10 18H9M12 9V8C12 6.89543 11.1046 6 10 6H9" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                          </svg>
                          Clé privée (privkey.pem)
                        </label>
                        <textarea id="domainCertKey" class="pro-textarea code" rows="6" placeholder="-----BEGIN PRIVATE KEY-----&#10;Collez la clé privée ici...&#10;-----END PRIVATE KEY-----"></textarea>
                      </div>
                    </div>
                    <div class="form-row">
                      <button class="btn-action primary full-width" type="button" id="btnImPortDomainCert">
                        <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                          <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          <polyline points="17 8 12 3 7 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                          <line x1="12" y1="3" x2="12" y2="15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                        Importer le certificat
                      </button>
                    </div>
                  </div>
                </div>
                <div id="domainCertEmpty" class="empty-state-pro">
                  <svg width="64" height="64" viewBox="0 0 24 24" fill="none">
                    <path d="M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M9 12L11 14L15 10" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                  </svg>
                  <h3>Aucun certificat configuré</h3>
                  <p>Importez un certificat SSL/TLS pour sécuriser ce domaine</p>
                  <button class="btn-action primary" type="button" id="btnShowCertImPort">
                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none">
                      <path d="M21 15V19C21 19.5304 20.7893 20.0391 20.4142 20.4142C20.0391 20.7893 19.5304 21 19 21H5C4.46957 21 3.96086 20.7893 3.58579 20.4142C3.21071 20.0391 3 19.5304 3 19V15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <polyline points="17 8 12 3 7 8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                      <line x1="12" y1="3" x2="12" y2="15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    Importer un certificat
                  </button>
                </div>
              </section>
            </article>
          </div>
        </div>
      </section>
      <div id="footer-placeholder"></div>
    </div>
  </div>
</body>

</html>
